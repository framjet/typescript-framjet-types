import { IsNever, IsUnknown } from 'type-plus';
import { CreateTypeNameResolver, TypeMatcher } from '..';
import type { FilterPossibleNames, FilterPossibleTypeNamesMap, TypeNamesProvider } from '../name';

type GlobalThis = typeof globalThis;

type InstanceType<T> = IsUnknown<T> extends false ? T extends (new (...arguments_: unknown[]) => infer V) ? V : never : never;

type GlobalInstanceTypes = {
  [K in keyof GlobalThis as IsNever<InstanceType<GlobalThis[K]>> extends false ? K : never]: InstanceType<GlobalThis[K]>;
}

type GlobalInstanceTypeNameResolverFallBack<
  TInput,
  TExact extends boolean,
> = ({
  [K in keyof GlobalInstanceTypes]: TypeMatcher<TInput, GlobalInstanceTypes[K], TExact> extends true ? K : never;
}[keyof GlobalInstanceTypes]);

export type GlobalInstanceTypeNameResolver<
  TInput,
  TExact extends boolean,
> = IsNever<CreateTypeNameResolver<TInput, TExact, GlobalTypeNames>> extends false ?
  CreateTypeNameResolver<TInput, TExact, GlobalTypeNames>
  : GlobalInstanceTypeNameResolverFallBack<TInput, TExact>;

export type GlobalTypeNamesProvider<TInput extends string, TInstanceOf = unknown> = FilterPossibleNames<TInput, keyof FilterPossibleTypeNamesMap<GlobalInstanceTypes, TInstanceOf>>;


export type GlobalTypeNames = {
  Object: typeof Object;
  String: typeof String;
  Boolean: typeof Boolean;
  Number: typeof Number;
  Array: typeof Array;
  Date: Date;
  AbortController: AbortController;
  AbortSignal: AbortSignal;
  AbstractRange: AbstractRange;
  AnimationEffect: AnimationEffect;
  AnimationTimeline: AnimationTimeline;
  Attr: Attr;
  AudioDestinationNode: AudioDestinationNode;
  AudioListener: AudioListener;
  AudioNode: AudioNode;
  AudioParam: AudioParam;
  AudioParamMap: AudioParamMap;
  AudioScheduledSourceNode: AudioScheduledSourceNode;
  AudioWorklet: AudioWorklet;
  AuthenticatorAssertionResponse: AuthenticatorAssertionResponse;
  AuthenticatorAttestationResponse: AuthenticatorAttestationResponse;
  AuthenticatorResponse: AuthenticatorResponse;
  BarProp: BarProp;
  BaseAudioContext: BaseAudioContext;
  BeforeUnloadEvent: BeforeUnloadEvent;
  CDATASection: CDATASection;
  CSSAnimation: CSSAnimation;
  CSSConditionRule: CSSConditionRule;
  CSSContainerRule: CSSContainerRule;
  CSSCounterStyleRule: CSSCounterStyleRule;
  CSSFontFaceRule: CSSFontFaceRule;
  CSSFontFeatureValuesRule: CSSFontFeatureValuesRule;
  CSSFontPaletteValuesRule: CSSFontPaletteValuesRule;
  CSSGroupingRule: CSSGroupingRule;
  CSSImageValue: CSSImageValue;
  CSSImportRule: CSSImportRule;
  CSSKeyframeRule: CSSKeyframeRule;
  CSSKeyframesRule: CSSKeyframesRule;
  CSSLayerBlockRule: CSSLayerBlockRule;
  CSSLayerStatementRule: CSSLayerStatementRule;
  CSSMathValue: CSSMathValue;
  CSSMediaRule: CSSMediaRule;
  CSSNamespaceRule: CSSNamespaceRule;
  CSSNumericArray: CSSNumericArray;
  CSSNumericValue: CSSNumericValue;
  CSSPageRule: CSSPageRule;
  CSSPropertyRule: CSSPropertyRule;
  CSSRule: CSSRule;
  CSSRuleList: CSSRuleList;
  CSSStyleDeclaration: CSSStyleDeclaration;
  CSSStyleRule: CSSStyleRule;
  CSSStyleValue: CSSStyleValue;
  CSSSupportsRule: CSSSupportsRule;
  CSSTransformComponent: CSSTransformComponent;
  CSSTransition: CSSTransition;
  Cache: Cache;
  CacheStorage: CacheStorage;
  CanvasCaptureMediaStreamTrack: CanvasCaptureMediaStreamTrack;
  CanvasGradient: CanvasGradient;
  CanvasPattern: CanvasPattern;
  CanvasRenderingContext2D: CanvasRenderingContext2D;
  CharacterData: CharacterData;
  Clipboard: Clipboard;
  Credential: Credential;
  CredentialsContainer: CredentialsContainer;
  Crypto: Crypto;
  CryptoKey: CryptoKey;
  CustomElementRegistry: CustomElementRegistry;
  DOMImplementation: DOMImplementation;
  DOMParser: DOMParser;
  DOMRectList: DOMRectList;
  DOMStringList: DOMStringList;
  DOMStringMap: DOMStringMap;
  DOMTokenList: DOMTokenList;
  DataTransfer: DataTransfer;
  DataTransferItem: DataTransferItem;
  DataTransferItemList: DataTransferItemList;
  Document: Document;
  DocumentFragment: DocumentFragment;
  DocumentType: DocumentType;
  Element: Element;
  ElementInternals: ElementInternals;
  EventCounts: EventCounts;
  EventTarget: EventTarget;
  FileList: FileList;
  FileReader: FileReader;
  FileSystem: FileSystem;
  FileSystemDirectoryEntry: FileSystemDirectoryEntry;
  FileSystemDirectoryHandle: FileSystemDirectoryHandle;
  FileSystemDirectoryReader: FileSystemDirectoryReader;
  FileSystemEntry: FileSystemEntry;
  FileSystemFileEntry: FileSystemFileEntry;
  FileSystemFileHandle: FileSystemFileHandle;
  FileSystemHandle: FileSystemHandle;
  FileSystemWritableFileStream: FileSystemWritableFileStream;
  Gamepad: Gamepad;
  GamepadButton: GamepadButton;
  GamepadHapticActuator: GamepadHapticActuator;
  Geolocation: Geolocation;
  GeolocationCoordinates: GeolocationCoordinates;
  GeolocationPosition: GeolocationPosition;
  GeolocationPositionError: GeolocationPositionError;
  HTMLAllCollection: HTMLAllCollection;
  HTMLAnchorElement: HTMLAnchorElement;
  HTMLAreaElement: HTMLAreaElement;
  HTMLAudioElement: HTMLAudioElement;
  HTMLBRElement: HTMLBRElement;
  HTMLBaseElement: HTMLBaseElement;
  HTMLBodyElement: HTMLBodyElement;
  HTMLButtonElement: HTMLButtonElement;
  HTMLCanvasElement: HTMLCanvasElement;
  HTMLCollection: HTMLCollection;
  HTMLDListElement: HTMLDListElement;
  HTMLDataElement: HTMLDataElement;
  HTMLDataListElement: HTMLDataListElement;
  HTMLDetailsElement: HTMLDetailsElement;
  HTMLDialogElement: HTMLDialogElement;
  HTMLDivElement: HTMLDivElement;
  HTMLElement: HTMLElement;
  HTMLEmbedElement: HTMLEmbedElement;
  HTMLFieldSetElement: HTMLFieldSetElement;
  HTMLFormControlsCollection: HTMLFormControlsCollection;
  HTMLFormElement: HTMLFormElement;
  HTMLHRElement: HTMLHRElement;
  HTMLHeadElement: HTMLHeadElement;
  HTMLHeadingElement: HTMLHeadingElement;
  HTMLHtmlElement: HTMLHtmlElement;
  HTMLIFrameElement: HTMLIFrameElement;
  HTMLImageElement: HTMLImageElement;
  HTMLInputElement: HTMLInputElement;
  HTMLLIElement: HTMLLIElement;
  HTMLLabelElement: HTMLLabelElement;
  HTMLLegendElement: HTMLLegendElement;
  HTMLLinkElement: HTMLLinkElement;
  HTMLMapElement: HTMLMapElement;
  HTMLMediaElement: HTMLMediaElement;
  HTMLMenuElement: HTMLMenuElement;
  HTMLMetaElement: HTMLMetaElement;
  HTMLMeterElement: HTMLMeterElement;
  HTMLModElement: HTMLModElement;
  HTMLOListElement: HTMLOListElement;
  HTMLObjectElement: HTMLObjectElement;
  HTMLOptGroupElement: HTMLOptGroupElement;
  HTMLOptionElement: HTMLOptionElement;
  HTMLOptionsCollection: HTMLOptionsCollection;
  HTMLOutputElement: HTMLOutputElement;
  HTMLParagraphElement: HTMLParagraphElement;
  HTMLPictureElement: HTMLPictureElement;
  HTMLPreElement: HTMLPreElement;
  HTMLProgressElement: HTMLProgressElement;
  HTMLQuoteElement: HTMLQuoteElement;
  HTMLScriptElement: HTMLScriptElement;
  HTMLSelectElement: HTMLSelectElement;
  HTMLSlotElement: HTMLSlotElement;
  HTMLSourceElement: HTMLSourceElement;
  HTMLSpanElement: HTMLSpanElement;
  HTMLStyleElement: HTMLStyleElement;
  HTMLTableCaptionElement: HTMLTableCaptionElement;
  HTMLTableCellElement: HTMLTableCellElement;
  HTMLTableColElement: HTMLTableColElement;
  HTMLTableElement: HTMLTableElement;
  HTMLTableRowElement: HTMLTableRowElement;
  HTMLTableSectionElement: HTMLTableSectionElement;
  HTMLTemplateElement: HTMLTemplateElement;
  HTMLTextAreaElement: HTMLTextAreaElement;
  HTMLTimeElement: HTMLTimeElement;
  HTMLTitleElement: HTMLTitleElement;
  HTMLTrackElement: HTMLTrackElement;
  HTMLUListElement: HTMLUListElement;
  HTMLUnknownElement: HTMLUnknownElement;
  HTMLVideoElement: HTMLVideoElement;
  HighlightRegistry: HighlightRegistry;
  History: History;
  IDBCursor: IDBCursor;
  IDBCursorWithValue: IDBCursorWithValue;
  IDBDatabase: IDBDatabase;
  IDBFactory: IDBFactory;
  IDBIndex: IDBIndex;
  IDBKeyRange: IDBKeyRange;
  IDBObjectStore: IDBObjectStore;
  IDBOpenDBRequest: IDBOpenDBRequest;
  IDBRequest: IDBRequest;
  IDBTransaction: IDBTransaction;
  IdleDeadline: IdleDeadline;
  ImageBitmap: ImageBitmap;
  ImageBitmapRenderingContext: ImageBitmapRenderingContext;
  InputDeviceInfo: InputDeviceInfo;
  Location: Location;
  Lock: Lock;
  LockManager: LockManager;
  MIDIAccess: MIDIAccess;
  MIDIInput: MIDIInput;
  MIDIInputMap: MIDIInputMap;
  MIDIOutput: MIDIOutput;
  MIDIOutputMap: MIDIOutputMap;
  MIDIPort: MIDIPort;
  MathMLElement: MathMLElement;
  MediaCapabilities: MediaCapabilities;
  MediaDeviceInfo: MediaDeviceInfo;
  MediaDevices: MediaDevices;
  MediaError: MediaError;
  MediaKeySession: MediaKeySession;
  MediaKeyStatusMap: MediaKeyStatusMap;
  MediaKeySystemAccess: MediaKeySystemAccess;
  MediaKeys: MediaKeys;
  MediaList: MediaList;
  MediaQueryList: MediaQueryList;
  MediaSession: MediaSession;
  MediaSource: MediaSource;
  MediaStream: MediaStream;
  MediaStreamTrack: MediaStreamTrack;
  MessageChannel: MessageChannel;
  MessagePort: MessagePort;
  MutationRecord: MutationRecord;
  NamedNodeMap: NamedNodeMap;
  NavigationPreloadManager: NavigationPreloadManager;
  Navigator: Navigator;
  Node: Node;
  NodeIterator: NodeIterator;
  NodeList: NodeList;
  OffscreenCanvasRenderingContext2D: OffscreenCanvasRenderingContext2D;
  PaymentResponse: PaymentResponse;
  Performance: Performance;
  PerformanceEntry: PerformanceEntry;
  PerformanceEventTiming: PerformanceEventTiming;
  PerformanceMeasure: PerformanceMeasure;
  PerformanceNavigationTiming: PerformanceNavigationTiming;
  PerformanceObserverEntryList: PerformanceObserverEntryList;
  PerformancePaintTiming: PerformancePaintTiming;
  PerformanceResourceTiming: PerformanceResourceTiming;
  PerformanceServerTiming: PerformanceServerTiming;
  PermissionStatus: PermissionStatus;
  Permissions: Permissions;
  PictureInPictureWindow: PictureInPictureWindow;
  ProcessingInstruction: ProcessingInstruction;
  PublicKeyCredential: PublicKeyCredential;
  PushManager: PushManager;
  PushSubscription: PushSubscription;
  PushSubscriptionOptions: PushSubscriptionOptions;
  RTCCertificate: RTCCertificate;
  RTCDTMFSender: RTCDTMFSender;
  RTCDataChannel: RTCDataChannel;
  RTCDtlsTransport: RTCDtlsTransport;
  RTCEncodedAudioFrame: RTCEncodedAudioFrame;
  RTCEncodedVideoFrame: RTCEncodedVideoFrame;
  RTCIceTransport: RTCIceTransport;
  RTCRtpReceiver: RTCRtpReceiver;
  RTCRtpSender: RTCRtpSender;
  RTCRtpTransceiver: RTCRtpTransceiver;
  RTCSctpTransport: RTCSctpTransport;
  RTCStatsReport: RTCStatsReport;
  RadioNodeList: RadioNodeList;
  Range: Range;
  ReadableByteStreamController: ReadableByteStreamController;
  ReadableStreamBYOBRequest: ReadableStreamBYOBRequest;
  ReadableStreamDefaultController: ReadableStreamDefaultController;
  RemotePlayback: RemotePlayback;
  Report: Report;
  ReportBody: ReportBody;
  ResizeObserverEntry: ResizeObserverEntry;
  ResizeObserverSize: ResizeObserverSize;
  SVGAElement: SVGAElement;
  SVGAngle: SVGAngle;
  SVGAnimateElement: SVGAnimateElement;
  SVGAnimateMotionElement: SVGAnimateMotionElement;
  SVGAnimateTransformElement: SVGAnimateTransformElement;
  SVGAnimatedAngle: SVGAnimatedAngle;
  SVGAnimatedBoolean: SVGAnimatedBoolean;
  SVGAnimatedEnumeration: SVGAnimatedEnumeration;
  SVGAnimatedInteger: SVGAnimatedInteger;
  SVGAnimatedLength: SVGAnimatedLength;
  SVGAnimatedLengthList: SVGAnimatedLengthList;
  SVGAnimatedNumber: SVGAnimatedNumber;
  SVGAnimatedNumberList: SVGAnimatedNumberList;
  SVGAnimatedPreserveAspectRatio: SVGAnimatedPreserveAspectRatio;
  SVGAnimatedRect: SVGAnimatedRect;
  SVGAnimatedString: SVGAnimatedString;
  SVGAnimatedTransformList: SVGAnimatedTransformList;
  SVGAnimationElement: SVGAnimationElement;
  SVGCircleElement: SVGCircleElement;
  SVGClipPathElement: SVGClipPathElement;
  SVGComponentTransferFunctionElement: SVGComponentTransferFunctionElement;
  SVGDefsElement: SVGDefsElement;
  SVGDescElement: SVGDescElement;
  SVGElement: SVGElement;
  SVGEllipseElement: SVGEllipseElement;
  SVGFEBlendElement: SVGFEBlendElement;
  SVGFEColorMatrixElement: SVGFEColorMatrixElement;
  SVGFEComponentTransferElement: SVGFEComponentTransferElement;
  SVGFECompositeElement: SVGFECompositeElement;
  SVGFEConvolveMatrixElement: SVGFEConvolveMatrixElement;
  SVGFEDiffuseLightingElement: SVGFEDiffuseLightingElement;
  SVGFEDisplacementMapElement: SVGFEDisplacementMapElement;
  SVGFEDistantLightElement: SVGFEDistantLightElement;
  SVGFEDropShadowElement: SVGFEDropShadowElement;
  SVGFEFloodElement: SVGFEFloodElement;
  SVGFEFuncAElement: SVGFEFuncAElement;
  SVGFEFuncBElement: SVGFEFuncBElement;
  SVGFEFuncGElement: SVGFEFuncGElement;
  SVGFEFuncRElement: SVGFEFuncRElement;
  SVGFEGaussianBlurElement: SVGFEGaussianBlurElement;
  SVGFEImageElement: SVGFEImageElement;
  SVGFEMergeElement: SVGFEMergeElement;
  SVGFEMergeNodeElement: SVGFEMergeNodeElement;
  SVGFEMorphologyElement: SVGFEMorphologyElement;
  SVGFEOffsetElement: SVGFEOffsetElement;
  SVGFEPointLightElement: SVGFEPointLightElement;
  SVGFESpecularLightingElement: SVGFESpecularLightingElement;
  SVGFESpotLightElement: SVGFESpotLightElement;
  SVGFETileElement: SVGFETileElement;
  SVGFETurbulenceElement: SVGFETurbulenceElement;
  SVGFilterElement: SVGFilterElement;
  SVGForeignObjectElement: SVGForeignObjectElement;
  SVGGElement: SVGGElement;
  SVGGeometryElement: SVGGeometryElement;
  SVGGradientElement: SVGGradientElement;
  SVGGraphicsElement: SVGGraphicsElement;
  SVGImageElement: SVGImageElement;
  SVGLength: SVGLength;
  SVGLengthList: SVGLengthList;
  SVGLineElement: SVGLineElement;
  SVGLinearGradientElement: SVGLinearGradientElement;
  SVGMPathElement: SVGMPathElement;
  SVGMarkerElement: SVGMarkerElement;
  SVGMaskElement: SVGMaskElement;
  SVGMetadataElement: SVGMetadataElement;
  SVGNumber: SVGNumber;
  SVGNumberList: SVGNumberList;
  SVGPathElement: SVGPathElement;
  SVGPatternElement: SVGPatternElement;
  SVGPointList: SVGPointList;
  SVGPolygonElement: SVGPolygonElement;
  SVGPolylineElement: SVGPolylineElement;
  SVGPreserveAspectRatio: SVGPreserveAspectRatio;
  SVGRadialGradientElement: SVGRadialGradientElement;
  SVGRectElement: SVGRectElement;
  SVGSVGElement: SVGSVGElement;
  SVGScriptElement: SVGScriptElement;
  SVGSetElement: SVGSetElement;
  SVGStopElement: SVGStopElement;
  SVGStringList: SVGStringList;
  SVGStyleElement: SVGStyleElement;
  SVGSwitchElement: SVGSwitchElement;
  SVGSymbolElement: SVGSymbolElement;
  SVGTSpanElement: SVGTSpanElement;
  SVGTextContentElement: SVGTextContentElement;
  SVGTextElement: SVGTextElement;
  SVGTextPathElement: SVGTextPathElement;
  SVGTextPositioningElement: SVGTextPositioningElement;
  SVGTitleElement: SVGTitleElement;
  SVGTransform: SVGTransform;
  SVGTransformList: SVGTransformList;
  SVGUnitTypes: SVGUnitTypes;
  SVGUseElement: SVGUseElement;
  SVGViewElement: SVGViewElement;
  Screen: Screen;
  ScreenOrientation: ScreenOrientation;
  Selection: Selection;
  ServiceWorker: ServiceWorker;
  ServiceWorkerContainer: ServiceWorkerContainer;
  ServiceWorkerRegistration: ServiceWorkerRegistration;
  ShadowRoot: ShadowRoot;
  SourceBuffer: SourceBuffer;
  SourceBufferList: SourceBufferList;
  SpeechRecognitionAlternative: SpeechRecognitionAlternative;
  SpeechRecognitionResult: SpeechRecognitionResult;
  SpeechRecognitionResultList: SpeechRecognitionResultList;
  SpeechSynthesis: SpeechSynthesis;
  SpeechSynthesisVoice: SpeechSynthesisVoice;
  Storage: Storage;
  StorageManager: StorageManager;
  StylePropertyMap: StylePropertyMap;
  StylePropertyMapReadOnly: StylePropertyMapReadOnly;
  StyleSheet: StyleSheet;
  StyleSheetList: StyleSheetList;
  SubtleCrypto: SubtleCrypto;
  TextEncoder: TextEncoder;
  TextEncoderStream: TextEncoderStream;
  TextMetrics: TextMetrics;
  TextTrack: TextTrack;
  TextTrackCue: TextTrackCue;
  TextTrackCueList: TextTrackCueList;
  TextTrackList: TextTrackList;
  TimeRanges: TimeRanges;
  TouchList: TouchList;
  TransformStreamDefaultController: TransformStreamDefaultController;
  TreeWalker: TreeWalker;
  UserActivation: UserActivation;
  VTTRegion: VTTRegion;
  ValidityState: ValidityState;
  VideoPlaybackQuality: VideoPlaybackQuality;
  VisualViewport: VisualViewport;
  WakeLock: WakeLock;
  WakeLockSentinel: WakeLockSentinel;
  WebGL2RenderingContext: WebGL2RenderingContext;
  WebGLActiveInfo: WebGLActiveInfo;
  WebGLBuffer: WebGLBuffer;
  WebGLFramebuffer: WebGLFramebuffer;
  WebGLProgram: WebGLProgram;
  WebGLQuery: WebGLQuery;
  WebGLRenderbuffer: WebGLRenderbuffer;
  WebGLRenderingContext: WebGLRenderingContext;
  WebGLSampler: WebGLSampler;
  WebGLShader: WebGLShader;
  WebGLShaderPrecisionFormat: WebGLShaderPrecisionFormat;
  WebGLSync: WebGLSync;
  WebGLTexture: WebGLTexture;
  WebGLTransformFeedback: WebGLTransformFeedback;
  WebGLUniformLocation: WebGLUniformLocation;
  WebGLVertexArrayObject: WebGLVertexArrayObject;
  WebTransportBidirectionalStream: WebTransportBidirectionalStream;
  WebTransportDatagramDuplexStream: WebTransportDatagramDuplexStream;
  Window: Window;
  Worklet: Worklet;
  WritableStreamDefaultController: WritableStreamDefaultController;
  XMLDocument: XMLDocument;
  XMLHttpRequest: XMLHttpRequest;
  XMLHttpRequestEventTarget: XMLHttpRequestEventTarget;
  XMLHttpRequestUpload: XMLHttpRequestUpload;
  XMLSerializer: XMLSerializer;
  XPathEvaluator: XPathEvaluator;
  XPathExpression: XPathExpression;
  XPathResult: XPathResult;
  XSLTProcessor: XSLTProcessor;
  DisposableStack: DisposableStack;
  AsyncDisposableStack: AsyncDisposableStack;
}
